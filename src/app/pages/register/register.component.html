<p-toast position="top-left"></p-toast>

<form #registerForm="ngForm" (ngSubmit)="register(registerForm)">
  <h1 class="mb-3">REGISTER FORM</h1>

  <div class="form-group">
    <input class="form-control inputStyle" #username="ngModel" type="text" placeholder="Nickname" name="nickname"
      ngModel required />
    <ng-container *ngIf="(username.touched || username.dirty) && username.errors">
      <p *ngIf="username.errors['required']" class="text text-danger d-inline">
        Nickname is required!
      </p>
    </ng-container>
  </div>

  <div class="form-group">
    <input class="form-control inputStyle" #password="ngModel" type="password" placeholder="Password" name="password"
      ngModel required />
    <ng-container *ngIf="(password.touched || password.dirty) && password.errors">
      <p *ngIf="password.errors['required']" class="text text-danger d-inline">
        Password is required!
      </p>
    </ng-container>
  </div>

  <div class="form-group">
    <input class="form-control inputStyle" #confirm_password="ngModel" type="password" placeholder="Confirm Password"
      name="confirm_password" ngModel required />
    <ng-container *ngIf="(confirm_password.touched || confirm_password.dirty) && confirm_password.errors">
      <p *ngIf="confirm_password.errors['required']" class="text text-danger d-inline">
        Confirm Password is required!
      </p>
    </ng-container>
  </div>

  <div class="form-group">
    <input class="form-control inputStyle" #email="ngModel" type="email" placeholder="Email" name="email" ngModel
      required pattern="[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" />
    <ng-container *ngIf="(email.touched || email.dirty) && email.errors">
      <p *ngIf="email.errors['pattern']" class="text text-danger d-inline">
        Email is not valid!
      </p>
      <p *ngIf="email.errors['required']" class="text text-danger d-inline">
        Email is required!
      </p>
    </ng-container>
  </div>

  <div class="form-group">
    <input class="form-control inputStyle" #phone="ngModel" type="tel" placeholder="Phone" name="phone" ngModel
      pattern="[0-9]*" required />
    <ng-container *ngIf="(phone.touched || phone.dirty) && phone.errors">
      <p *ngIf="phone.errors['pattern']" class="text text-danger d-inline">
        Phone is not valid.
      </p>
      <p *ngIf="phone.errors['required']" class="text text-danger d-inline">
        Phone is required!
      </p>
    </ng-container>
  </div>

  <div class="form-group">
    <p-dropdown class="form-control inputStyle" [(ngModel)]="selectedCountry" inputId="country" [options]="countries"
      placeholder="Choose country..." name="country" #country="ngModel" [required]="true">
      <ng-template let-option pTemplate="item">
        <span [class]="'product-badge status-' + option.value">{{option.label}}</span>
      </ng-template>
    </p-dropdown>
    <ng-container *ngIf="country.invalid && (country.dirty || country.touched)">
      <p class="text text-danger d-inline" *ngIf="country.errors?.['required']">
        Country is required!
      </p>
    </ng-container>
  </div>
  <button [disabled]="registerForm.invalid" type="submit" class="mt-3 buttonStyle">Register</button>
</form>
